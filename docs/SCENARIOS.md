# Scenarios — Retirement Forecasting App

This document walks through realistic user scenarios that exercise every feature of the application. Each scenario follows a different persona through a concrete task, referencing UX affordances by name and number. The scenarios are ordered as a user journey: from first launch through advanced usage.

---

## 1. First Launch — Surveying the Empty State

Angela, 61, opens the app for the first time. She sees the **Mode Toggle (#1)** set to "Planning" and the **Simulation Mode Selector (#2)** set to "Manual." The **Run Simulation Button (#3)** sits in the command bar, ready but unclicked. The output area shows empty axes on the **Portfolio Chart (#42)** with the message "Configure your parameters and click Run Simulation to generate a projection." The **Summary Statistics Bar (#33–#41)** shows dashes across every card. The **Detail Table (#49)** has column headers but no rows. Angela notices the sidebar is organized into collapsible sections — Core Parameters, Starting Portfolio, Return Assumptions, Spending Phases, Withdrawal Strategy, Asset Drawdown Strategy, Additional Income, and Large Expenses — each with a chevron she can click to expand or collapse. She decides to start at the top and work her way down.

## 2. Configuring the Basics — Core Parameters and Portfolio

David, 58, plans to retire in two years. He sets his **Starting Age (#4)** to 60 by dragging the slider and confirming the value in the synced numeric input. He adjusts **Withdrawals Start At (#4b)** to 60 as well, meaning he'll begin drawing income immediately. The **Retirement Start Date (#4c)** auto-populates based on his age. He sets **Retirement Duration (#5)** to 35 years and leaves the **Inflation Rate (#6)** at the 3.0% default. Moving to Starting Portfolio, David enters $850,000 in **Stocks (#7)**, $400,000 in **Bonds (#8)**, and $150,000 in **Cash (#9)**. As he types each value, the **Total Portfolio Display (#10)** updates in real time — the mini donut chart animates its segments and the text summary shows "Total: $1,400,000" with percentage breakdowns (60.7% / 28.6% / 10.7%). The color dots on each input — blue for Stocks, teal for Bonds, amber for Cash — match the donut segments exactly, a visual language David will see repeated throughout the app.

## 3. First Simulation — Running Manual Mode

Maria, 63, has filled in her core parameters and portfolio. She leaves all Return Assumptions at their defaults — **Stocks Expected Return (#11)** at 8.0%, **Stocks Std Dev (#12)** at 15.0%, and the corresponding fields for **Bonds (#13, #14)** and **Cash (#15, #16)** — glancing at the **Historical Context Helper** below the inputs to confirm her assumptions are in the right ballpark. She hasn't touched spending phases or withdrawal strategy yet, so the defaults are in effect: a single spending phase covering her full retirement, the **Constant Dollar** withdrawal strategy selected in the **Strategy Selector (#20)**, and the **Bucket** drawdown order in the **Drawdown Strategy Selector (#23)**. Maria clicks the **Run Simulation Button (#3)**. The button briefly shows "Running..." and within a moment the output area comes alive: the **Portfolio Chart (#42)** draws a single line from left to right across her 30-year timeline, the **Summary Statistics Bar** populates with numbers — **Total Drawdown Nominal (#33)**, **Median Monthly (#35)**, **Terminal Value (#40)** — and the **Detail Table** fills with rows. She notices the chart line dips below zero in Year 27. The **Terminal Value card (#40)** shows "$0" in red text, confirming her money runs out before her plan ends.

## 4. Exploring Withdrawal Strategies

James, 56, wants to compare withdrawal approaches. He opens the **Strategy Selector (#20)** dropdown and sees 12 strategies organized into four categories — Basic, Adaptive, Guardrails, and Endowment & Hybrid — each with a colored tag indicating whether it prioritizes stability, adaptiveness, or a balance. He starts with **Constant Dollar** and notes its single parameter — **Initial Withdrawal Rate (21-1a)** — with a computed helper showing the dollar amount. He clicks the **Strategy Info Tooltip (#22)** icon and reads a plain-English explanation of the 4% Rule. He then switches to **Guyton-Klinger** under the Guardrails category. The **Strategy-Specific Parameters (#21)** panel crossfades to show four inputs: Initial Withdrawal Rate, Prosperity Rule Threshold, Capital Preservation Rule Threshold, and Maximum Cut Percentage. Each parameter has a constrained range and sensible default. James adjusts the prosperity threshold, then runs the simulation. He clicks **Undo (#62)** to revert the threshold change, watches the parameter snap back to its previous value, then clicks **Redo (#63)** to restore it — satisfied that experimentation is risk-free.

## 5. Shaping Spending Across Retirement — Spending Phases

Priya, 60, knows her spending won't be constant over 35 years. She opens the Spending Phases section and sees a single default phase card covering Years 1–35. She clicks **Add Phase (#18)** twice, creating three phases total. The first phase's end year becomes editable, and the cascade logic automatically fills in contiguous year ranges. She names her phases in each card's label field: "Active Years" (Years 1–10, min $5,000/max $8,000 per month), "Slow Down" (Years 11–25, min $3,500/max $5,500), and "Late Care" (Years 26–35, min $4,000/max $9,000). The **Min Monthly Spend (#17d)** and **Max Monthly Spend (#17e)** fields on each phase card show computed inflation-adjusted helpers below them. When Priya accidentally sets the max below the min on her second phase, a red border and validation tooltip appear instantly. She fixes it and considers removing the third phase — the **Remove Phase Button (#19)** is visible as a small trash icon in the top-right corner of each card — but decides to keep all three. The section-level validation ensures her phases cover the full retirement with no gaps and no overlaps, enforced by construction rather than error messages.

## 6. Adding Income Sources — Social Security and a Pension

Robert, 65, has two retirement income streams. He scrolls to the Additional Income section and clicks the small chevron on the **Add Income Button (#28)** to reveal the preset menu. He selects "Social Security," which creates an **Income Event Card (#27)** pre-filled with $2,500/month, deposited into Cash, starting Month 1, running to end of retirement, with inflation adjustment on. He adjusts the amount to $2,800 to match his actual benefit. He then adds a second event using the "Pension" preset — $1,800/month, no inflation adjustment. Each card shows a muted green left border accent and a small income icon. The helper text below each card's **End Date (#27f)** picker shows the total lifetime value of the income stream. Robert also adds a one-time inheritance expected in Year 8 by clicking the main "+ Add Income" area of the split button and manually filling in the **Amount (#27b)** as $75,000, **Deposit Into (#27c)** as Stocks, and **Frequency (#27e)** as One-Time. Row 4 of the card (End Date and Inflation Toggle) disappears since it's a one-time event.

## 7. Planning for Large Expenses

Susan, 62, knows she'll face significant costs. She opens the Large Expenses section and uses the **Add Expense Button (#31)** with presets to add a "New Roof" — a one-time $35,000 expense in Year 5. The **Expense Event Card (#30)** appears with a muted red left border and expense icon, visually distinct from her green income cards. She sets the **Source From dropdown (#30c)** to "Follow Drawdown Strategy," meaning the expense will be funded using the same Bucket or Rebalancing logic as her regular withdrawals. She then adds a recurring "Long-Term Care" expense: $4,000/month starting in Year 20, with inflation adjustment on via the **Inflation-Adjusted Toggle (#30g)** and the **End Date (#30f)** set to End of Retirement. For a planned gift to her children, she adds another one-time expense of $50,000 in Year 10, sourced specifically from Bonds via the **Source From** dropdown — she wants to preserve her equity position for that withdrawal.

## 8. Configuring Asset Drawdown — Bucket vs. Rebalancing

Tom, 59, wants to control how withdrawals are sourced from his portfolio. In the Asset Drawdown Strategy section, the **Drawdown Strategy Selector (#23)** defaults to Bucket. He sees the **Bucket Priority Order (#24)** — three draggable rows showing Cash (priority 1), Bonds (priority 2), Stocks (priority 3). He grabs the Bonds row by its drag handle and drops it above Cash, reordering to Bonds-first. The priority badges re-number instantly. Tom then switches to **Rebalancing** in the selector. The bucket order panel fades out and the **Rebalancing Target Allocation (#25)** inputs fade in — three percentage fields with a linked horizontal allocation bar. He sets 60% Stocks, 30% Bonds, 10% Cash. The validation indicator below shows "Total: 100% ✓" in green. Curious about glide paths, he toggles on **Enable Glide Path (#25b)**. The target allocation inputs dim and become read-only, and the **Glide Path Editor (#26)** slides into view with two default waypoints — Year 1 (60/30/10) and Year 35 (40/40/20). The **Mini Preview Chart (#26d)** shows a stacked area chart with the three asset class layers gradually shifting. Tom clicks **Add Waypoint (#26b)** to insert a midpoint at Year 15, which auto-populates with interpolated values. He adjusts Year 15 to 55/35/10 and watches the preview chart morph smoothly.

## 9. Discovering Monte Carlo — Historical Simulations

Karen, 64, has been running Manual simulations and getting a different result each time she clicks Run. She wants a more comprehensive view. She switches the **Simulation Mode Selector (#2)** from Manual to Monte Carlo. The Return Assumptions section in the sidebar disappears, replaced by the **Historical Data Summary** section showing average returns and standard deviations computed from actual market data. The **Historical Era Selector (#11a)** appears in the command bar — a dropdown defaulting to "Full History (1926–2024)." Karen selects "Post-War (1946–2024)" to exclude the Depression era. The Historical Data Summary updates instantly to reflect the narrower dataset. She clicks **Run Simulation (#3)** and watches the button show "Running..." with a spinner for a few seconds as the web worker crunches 1,000 simulations. The **Portfolio Chart (#42)** now shows **Confidence Bands (#45)** — a wide 10th–90th percentile band, a narrower 25th–75th band, and a solid median line through the center. A small legend in the top-right corner identifies each band. The **Probability of Success card (#41)** appears for the first time, showing 87% in an amber color (between the 80% and 95% thresholds). The **Summary Statistics** now show median values with small "median" superscripts.

## 10. Reading the Detail Table — Compact and Expanded Views

Eduardo, 67, wants to inspect the numbers month by month. He scrolls down to the **Detail Table** and uses the **Monthly/Annual Toggle (#49)** to switch to monthly view — 420 rows for his 35-year retirement. The **Sticky Headers (#51)** keep the column labels visible as he scrolls. He sees columns for Period, Age, Portfolio Start, Market Movement ($), Return (%), Withdrawal (Nominal), Withdrawal (Real), Income, Expenses, and Portfolio End. The Income column shows green-tinted values in months where his Social Security fires, and the Expenses column shows red-tinted values when his large expenses hit. He hovers over an Income cell and a tooltip lists the individual events contributing to that month's total. Eduardo clicks the **Asset Class Columns Toggle (#50)** to enable "Show Asset Classes." The Portfolio Start, Market Movement, Withdrawal, and Portfolio End columns each split into four sub-columns — Stocks, Bonds, Cash, and Total — with tiny color dots in the sub-headers. The table widens significantly; horizontal scrolling activates but the Period column stays pinned at the left. Eduardo clicks the "Return (%)" column header to **Sort by Column (#53)** and finds his worst month — a −8.2% portfolio return. He clicks again for descending sort to find his best month, then clicks a third time to reset to chronological order.

## 11. Interacting with the Chart — Zoom, Pan, Tooltip, and Toggles

Lin, 60, wants to explore the chart in more detail. She hovers over the **Portfolio Chart (#42)** and a vertical **crosshair with tooltip (#47)** appears, showing the exact portfolio value, month, age, and withdrawal for the hovered point. In Monte Carlo mode, the tooltip also lists the 10th, 25th, 50th, 75th, and 90th percentile values. Lin toggles the **Real vs. Nominal Toggle (#43)** from Nominal to Real and watches the chart smoothly compress downward as inflation-adjusted values are lower — the Y-axis rescales and the line morphs. She turns on the **Asset Class Breakdown Toggle (#44)** and the single line splits into a stacked area chart with blue (Stocks), teal (Bonds), and amber (Cash) layers. She can see her Stocks allocation shrinking over time as the bucket strategy depletes it. Turning to the **Zoom/Pan controls (#48)**, she drags across a 5-year window on the range selector bar below the chart to zoom into Years 15–20, where her portfolio declines sharply. A "Reset Zoom" button appears, and she clicks it to return to the full view.

## 12. Entering Tracking Mode — First Actuals

Margaret, 66, has been retired for 8 months and wants to start tracking reality against her plan. She clicks the **Mode Toggle (#1)** to switch to Tracking. The **Actuals Watermark (#60)** appears in the command bar showing "No actuals entered." The chart shows her entire projection as a dashed line. Margaret enables "Show Asset Classes" in the detail table and clicks on the Stocks Start cell for Month 1 — the cell transforms into an **Editable Cell (#52)** with a visible border and cursor. She types her actual starting stock balance. Pressing Tab moves her to Bonds Start, then Cash Start, then through the withdrawal cells. After entering all six fields for Month 1, the **Total** sub-columns auto-compute, and every projected row below immediately recalculates — the re-forecast is instant and reactive. A small **dot indicator** appears in the top-right corner of each cell she's edited, distinguishing her actuals from computed values. She enters actuals for all 8 months. The **Actuals Watermark (#60)** now reads "Actuals through: August 2027." The chart shows a solid line for her 8 actual months, a dashed line for the projection forward, and a vertical **"Today" marker (#46)** at the boundary.

## 13. Monte Carlo from a Real-World Position

Margaret continues from Scenario 12. She wants to know her updated probability of success given 8 months of actual data. She switches the **Simulation Mode Selector (#2)** to Monte Carlo. The **Probability of Success card (#41)** appears showing "—" since no Monte Carlo has been run yet. She clicks **Run Simulation (#3)**. The engine locks her 8 months of actuals across all 1,000 simulations and fans out from Month 9 forward using historical sampling. The **Confidence Bands (#45)** appear on the chart, originating from her last actual data point and widening into the future. Her probability of success shows 91% in green. Margaret then edits Month 6's stock value after receiving a corrected brokerage statement. The deterministic re-forecast updates instantly, but the Monte Carlo bands dim to 40% opacity, the Probability of Success card dims with a small "⚠" icon, and the **Run Simulation button gains an orange dot badge** — all indicating the MC results are **stale**. She clicks Run Simulation again to refresh, clearing all stale indicators.

## 14. Stress Testing — What If the Market Crashes?

Carlos, 59, has a solid base plan with a 93% probability of success. He wants to know how fragile it is. He expands the **Stress Test Panel** and clicks the **Add Scenario placeholder (#58)** to create his first scenario. A **Scenario Card (#57)** appears with defaults: Stock Crash, −30%, Year 1. He edits the **Scenario Label (#57a)** to "Early Crash." He adds a second scenario — a **Prolonged Bear Market** lasting 5 years with −5% stock returns and +1% bond returns, starting in Year 3, labeled "Extended Downturn." The **Results Display (#59)** computes automatically: a **comparison bar chart** shows Terminal Value and Total Drawdown for the base case versus each scenario, with colored bars and value labels. The **comparison metrics table** below lists Terminal Value, Δ Terminal vs. Base, Probability of Success, Δ Success vs. Base, Depletion Month, and more. Carlos hovers over the "Early Crash" bar and sees a tooltip: "$284K (−$963K vs. base)." Below the table, the **Timing Sensitivity Mini-Chart** (Manual mode only) shows a line per scenario plotting terminal value against shock start year — the downward slope from left to right makes sequence-of-returns risk viscerally clear. He adjusts the **Shock Timing (#57d)** start year on his first scenario from Year 1 to Year 10 and watches the results recompute — the impact is dramatically reduced when the crash happens later.

## 15. Comparing Strategies Side by Side with Snapshots

Diane, 62, wants to compare two different withdrawal strategies without losing her work. She has fully configured a plan using the **Guyton-Klinger** strategy. She clicks **Save Snapshot (#64)**, names it "Guyton-Klinger Plan," and a JSON file downloads to her local drive. She then switches to **CAPE-Based** in the Strategy Selector, adjusts its parameters, runs a new simulation, and saves another snapshot: "CAPE Plan." Later, she clicks **Load Snapshot (#65)**, selects the Guyton-Klinger file from her drive, and sees a confirmation dialog — "Loading a snapshot will replace all current inputs. This cannot be undone. Continue?" She confirms. The app restores every input, spending phase, income event, and expense event to exactly where they were. Her undo/redo history is cleared. She clicks **Run Simulation** to regenerate the output and compares the numbers by hand against her notes from the CAPE run. The snapshot files are human-readable JSON with a `schemaVersion` field for future compatibility.

## 16. Experimenting Freely with Undo/Redo

Alex, 57, is exploring aggressively. Over the course of 20 minutes, he changes his stock allocation, adds two income events, switches withdrawal strategies three times, adjusts spending phase boundaries, and modifies the glide path. At some point he realizes his plan was better 12 changes ago. He clicks **Undo (#62)** repeatedly — each click reverting one input change, stepping back through a history stack up to 100 changes deep. The undo scope covers field edits, dropdown selections, adding and removing phases, income events, expense events, strategy changes, and Tracking Mode actual edits — but not simulation runs, chart zoom, or table view toggles. He finds the state he liked, then clicks **Redo (#63)** twice to re-apply two changes he actually wanted to keep. He then makes a new edit, which clears the remaining redo stack (standard behavior). The keyboard shortcuts — `Ctrl+Z` for undo, `Ctrl+Shift+Z` for redo — feel natural. Throughout, the output area still shows results from his last simulation run, which may now be stale relative to his reverted inputs. He clicks **Run Simulation** to see fresh results from his restored configuration.

## 17. Saving and Resuming Work Across Sessions

Frank, 70, has been tracking his retirement for 14 months. He has actuals entered for every month, three income events, two large expenses, a rebalancing strategy with a glide path, and Monte Carlo results showing 89% probability of success. Before closing his browser, he presses `Ctrl+S`, which triggers **Save Snapshot (#64)**. A modal appears with a pre-filled name — "Snapshot — Feb 10, 2026 3:42 PM" — which he edits to "Frank Q1 2026 Check-In." The JSON file downloads. The file captures all input panel values, spending phases, income and expense events, withdrawal and drawdown strategy configuration, stress test scenarios, Tracking Mode actuals, and the current mode — but not output results, undo history, or chart view preferences. Two weeks later, Frank opens the app fresh and presses `Ctrl+O` for **Load Snapshot (#65)**. He picks his file, the app validates the JSON schema, and all inputs are restored. The app is placed back in Tracking Mode (since that's what the snapshot captured). The output area is blank — he clicks **Run Simulation** to regenerate his Monte Carlo projection from his restored actuals forward.

## 18. Handling Invalid or Incompatible Snapshot Files

Nina, 55, tries to load a file that isn't a snapshot — a random JSON file from another application. She clicks **Load Snapshot (#65)** and selects the file. The app parses it, fails schema validation, and displays an inline error toast: "This file doesn't appear to be a valid snapshot." Her current state is completely untouched. She then tries a snapshot saved by a newer version of the app (with a higher `schemaVersion`). The app shows a different message: "This snapshot was created with a newer version of the app and cannot be loaded." Neither error modifies any state.

## 19. Exporting Data for External Analysis

Wei, 64, wants to pull his projection data into Excel. He scrolls to the Detail Table, sets it to annual view using the **Monthly/Annual Toggle (#49)**, enables asset class columns with the **Asset Class Columns Toggle (#50)**, and clicks the **Export CSV Button (#56)**. A CSV file downloads containing every visible column — Period, Age, per-asset-class Portfolio Start, Market Movement, Return, Withdrawal, Portfolio End, plus Income, Expenses, and Withdrawal (Real). The export reflects whatever view he currently has active: annual granularity with expanded asset class columns. He opens it in Excel and builds his own custom charts.

## 20. The Return Assumptions Deep Dive — Manual Mode Nuances

Rachel, 61, is a financial analyst who wants precise control. She stays in Manual mode and carefully calibrates her **Return Assumptions**: she sets **Stocks Expected Return (#11)** to 7.0% (below the historical average to be conservative), **Stocks Std Dev (#12)** to 18.0% (higher volatility), **Bonds Expected Return (#13)** to 3.5%, **Bonds Std Dev (#14)** to 6.0%, and leaves Cash at the defaults. Each field has a compact layout — the three asset-class rows sit in a table-like grid with color dots, return input, and std dev input per row. The **Historical Context Helper** below reminds her that historical US stock returns averaged ~10% with ~15% standard deviation, confirming her assumptions are deliberately conservative. She runs the simulation multiple times, noting that each Manual run produces a different stochastic path — the randomness gives her a feel for the range of outcomes even without Monte Carlo.

## 21. Clearing Actuals and Starting Fresh in Tracking Mode

Howard, 68, has been entering actuals for 6 months but realizes he made systematic errors in his early entries. Rather than correcting each cell, he clicks the **Clear Actuals Button (#61)** — visible only because he's in Tracking Mode with actuals present. A confirmation dialog appears: "Clear all actuals? This will remove all manually entered portfolio values and withdrawals." He clicks "Clear" (the red destructive button). All actual values are wiped, the table reverts to fully projected values, the **Actuals Watermark (#60)** resets to "No actuals entered," and the chart returns to a fully dashed projection line. Howard can also clear individual cells: in the expanded table view, he selects a value in an **Editable Cell (#52)**, deletes it, and blurs — the cell reverts to a computed value and the dot indicator disappears.

## 22. Using the Chart in Tracking Mode — Actuals vs. Projections

Yuki, 63, has been retired for two years with actuals entered for 24 months. In Tracking Mode, her **Portfolio Chart (#42)** shows a solid line for the 24 actual months with small **data point markers (#46)** on each month she explicitly edited. Gap-filled months (past months she didn't manually enter) have no markers — only her real data points do. After the 24th month, a vertical dashed **"Today" marker** appears with the label "Actuals → Projections," and the line continues as a dashed line in reduced opacity. The area fill is slightly more transparent in the projected region. As Yuki enters her 25th month's actuals in the table, the solid line extends by one month and the Today marker shifts right — all in real time.

## 23. The Complete Power-User Workflow

Victor, 58, exercises nearly every feature in one session. He sets up his core parameters and portfolio (Affordances #4–#10), configures three spending phases (#17–#19), selects the VPW withdrawal strategy (#20, #21) with a 3.0% real return and 100% drawdown target, sets up Rebalancing with a glide path (#23–#26), adds Social Security and a pension as income events (#27–#29), adds a new roof and long-term care as expenses (#30–#32), and runs a Monte Carlo simulation using the Post-WWII era (#2, #11a, #3). He toggles the chart between nominal and real (#43), inspects the asset class breakdown (#44), zooms into a concerning decade (#48), reads the detail table in expanded view (#50) with sticky headers (#51), and sorts by return percentage (#53) to find outlier months. He adds three stress test scenarios (#57–#58) — an early crash, a prolonged bear, and an inflation spike — and studies the comparison bar chart and timing sensitivity analysis (#59). Satisfied with his plan, he saves a snapshot (#64) named "Victor Master Plan" and closes the browser. The entire session — configuration, simulation, analysis, and export — happened on a single page with no backend, no account, and no saved state beyond the snapshot file on his local drive.
